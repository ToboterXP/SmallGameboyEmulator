/*
 * BasicROMSection.cpp
 *
 *  Created on: 16.10.2019
 *      Author: Tobias
 */

#include <memory/BasicROMSection.h>

namespace memory {

BasicROMSection::BasicROMSection(string filename, uint16_t start, uint32_t length)  : MemorySection(start,length){

	ifstream file;
	file.open(filename,ios::in|ios::binary|ios::ate);
	streampos size = file.tellg();
	rom = new uint8_t[size];
	file.seekg(0,ios::beg);
	file.read((char *)rom,size);
	file.close();
}

BasicROMSection::~BasicROMSection() : ~MemorySection(){

	deleteSection();
	delete this->rom;
}

} /* namespace proc */
